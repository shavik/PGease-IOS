# PGEase iOS - Architecture Diagrams

**Visual Guide for Developers** ğŸ“Š

---

## ğŸ—ï¸ **App Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PGEASE iOS APP                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  PGEaseApp  â”‚  (Entry Point)                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€â”€â†’ AuthManager (Check auth state)                â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€â”€â†’ If NOT authenticated:                         â”‚
â”‚         â”‚    â””â”€â”€â†’ LoginView â†’ OnboardingView              â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â”€â†’ If authenticated:                             â”‚
â”‚              â””â”€â”€â†’ Role-Based TabView                       â”‚
â”‚                   â”œâ”€ StudentTabView                        â”‚
â”‚                   â”œâ”€ StaffTabView                          â”‚
â”‚                   â”œâ”€ ManagerTabView                        â”‚
â”‚                   â””â”€ ...                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± **View Hierarchy**

```
PGEaseApp
â”‚
â”œâ”€ LoginView (Initial)
â”‚  â”œâ”€ "I'm a Student" Button
â”‚  â””â”€ "I'm a Staff Member" Button
â”‚
â”œâ”€ OnboardingView (After login)
â”‚  â”œâ”€ WelcomeStep
â”‚  â”œâ”€ EnterInviteCodeStep
â”‚  â”œâ”€ LinkingDeviceStep
â”‚  â”œâ”€ SetupBiometricStep
â”‚  â”œâ”€ WaitingForApprovalStep
â”‚  â””â”€ CompletedStep
â”‚
â””â”€ Role-Based TabViews (After onboarding)
   â”‚
   â”œâ”€ StudentTabView
   â”‚  â”œâ”€ HomeTab (Check-In/Out)
   â”‚  â”œâ”€ AttendanceTab
   â”‚  â”œâ”€ PaymentsTab
   â”‚  â”œâ”€ ComplaintsTab
   â”‚  â””â”€ ProfileTab
   â”‚     â””â”€ DeboardingView
   â”‚
   â””â”€ StaffTabView
      â”œâ”€ HomeTab (Check-In/Out)
      â”œâ”€ AttendanceTab
      â”œâ”€ TasksTab
      â”œâ”€ SalaryTab
      â””â”€ ProfileTab
         â””â”€ DeboardingView
```

---

## ğŸ”§ **Manager Classes**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MANAGERS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  APIManager (Singleton)                                     â”‚
â”‚  â”œâ”€ makeRequest<T>() - Generic API call                    â”‚
â”‚  â”œâ”€ Student APIs                                            â”‚
â”‚  â”‚  â”œâ”€ linkDevice()                                        â”‚
â”‚  â”‚  â”œâ”€ setupBiometric()                                    â”‚
â”‚  â”‚  â”œâ”€ getBiometricStatus()                                â”‚
â”‚  â”‚  â””â”€ deboardStudent()                                    â”‚
â”‚  â”œâ”€ Staff APIs                                              â”‚
â”‚  â”‚  â”œâ”€ linkStaffDevice()                                   â”‚
â”‚  â”‚  â”œâ”€ setupStaffBiometric()                               â”‚
â”‚  â”‚  â”œâ”€ getStaffBiometricStatus()                           â”‚
â”‚  â”‚  â””â”€ deboardStaff()                                      â”‚
â”‚  â””â”€ Check-In/Out APIs                                       â”‚
â”‚     â”œâ”€ checkIn(userType, userId, ...)                      â”‚
â”‚     â””â”€ checkOut(userType, userId, ...)                     â”‚
â”‚                                                             â”‚
â”‚  BiometricAuthManager                                       â”‚
â”‚  â”œâ”€ authenticateUser() - Local biometric auth              â”‚
â”‚  â”œâ”€ checkBiometricAvailability()                           â”‚
â”‚  â””â”€ biometricType (Face ID / Touch ID)                     â”‚
â”‚                                                             â”‚
â”‚  OnboardingManager                                          â”‚
â”‚  â”œâ”€ userType (STUDENT / STAFF)                             â”‚
â”‚  â”œâ”€ linkDevice() - Link device with invite code            â”‚
â”‚  â”œâ”€ setupBiometric() - Setup biometric auth                â”‚
â”‚  â”œâ”€ generateEnrollmentSignature()                          â”‚
â”‚  â””â”€ generateVerificationSignature()                        â”‚
â”‚                                                             â”‚
â”‚  CheckInOutManager                                          â”‚
â”‚  â”œâ”€ userType (STUDENT / STAFF)                             â”‚
â”‚  â”œâ”€ checkIn(method, nfcTagId)                              â”‚
â”‚  â”œâ”€ checkOut(method, nfcTagId)                             â”‚
â”‚  â””â”€ getCurrentUserId()                                     â”‚
â”‚                                                             â”‚
â”‚  AuthManager (NEW - Needs Creation)                        â”‚
â”‚  â”œâ”€ isAuthenticated                                        â”‚
â”‚  â”œâ”€ userRole (STUDENT / STAFF / MANAGER / ...)            â”‚
â”‚  â”œâ”€ checkAuthStatus()                                      â”‚
â”‚  â””â”€ logout()                                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **Data Flow**

### **Onboarding Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Opens app
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LoginView   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Selects "Student" or "Staff"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingViewâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Enters invite code
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ linkDevice()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIManager  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /api/onboarding/link-device (or staff)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend API  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Returns student/staff info
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ setupBiometric()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚BiometricAuthManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ authenticateUser()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ iOS Face ID  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Success
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ generateEnrollmentSignature()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIManager  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /api/onboarding/biometric-setup
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend API  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Returns PENDING_APPROVAL
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingViewâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Shows "Waiting for Approval"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Manager Web  â”‚ (Approves)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingViewâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Status = ACTIVE
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainTabView  â”‚ (Role-based)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Check-In Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Taps "Check In"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CheckInOutManagerâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ checkIn()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚BiometricAuthManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ authenticateUser()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ iOS Face ID  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Success
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚OnboardingManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ generateVerificationSignature()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIManager  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /api/biometric/verify (optional)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend API  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Returns confidence score
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIManager  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /api/check-in-out/checkin
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend API  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Creates CheckInOutLog
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CheckInOutManagerâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Updates UI
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USER     â”‚ Sees "âœ… Check-in successful!"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Deboarding Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Profile â†’ Leave PG
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚DeboardingViewâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Fills form (reason, date)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Confirms deboarding
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚BiometricAuthManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ authenticateUser()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ iOS Face ID  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Success
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚DeboardingManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ deboard()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIManager  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /api/student/deboard (or staff)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend API  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Moves to history, archives logs
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚DeboardingManager â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Clears UserDefaults
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LoginView   â”‚ (Back to start)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ **Data Storage**

### **UserDefaults Keys**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USERDEFAULTS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Authentication State:                                      â”‚
â”‚  â”œâ”€ "userId"              â†’ "student123" or "staff456"     â”‚
â”‚  â”œâ”€ "userType"            â†’ "STUDENT" or "STAFF"           â”‚
â”‚  â”œâ”€ "deviceId"            â†’ "device-uuid-123"              â”‚
â”‚  â”œâ”€ "onboardingComplete"  â†’ true/false                     â”‚
â”‚  â””â”€ "biometricSetupComplete" â†’ true/false                  â”‚
â”‚                                                             â”‚
â”‚  Check-In State:                                            â”‚
â”‚  â”œâ”€ "isCheckedIn"         â†’ true/false                     â”‚
â”‚  â”œâ”€ "lastCheckInTime"     â†’ Date                           â”‚
â”‚  â””â”€ "lastCheckOutTime"    â†’ Date                           â”‚
â”‚                                                             â”‚
â”‚  Settings:                                                  â”‚
â”‚  â”œâ”€ "requireBiometricAuth" â†’ true/false                    â”‚
â”‚  â”œâ”€ "biometricAuthEnabled" â†’ true/false                    â”‚
â”‚  â””â”€ "reauthenticateOnBackground" â†’ true/false              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Server-Side Storage**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE (Prisma)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  StudentProfile / StaffProfile:                             â”‚
â”‚  â”œâ”€ id                                                      â”‚
â”‚  â”œâ”€ userId                                                  â”‚
â”‚  â”œâ”€ pgId                                                    â”‚
â”‚  â”œâ”€ roomId (student only)                                  â”‚
â”‚  â”œâ”€ status (ACTIVE / INACTIVE)                             â”‚
â”‚  â”œâ”€ deviceId                                                â”‚
â”‚  â”œâ”€ biometricEnabled                                        â”‚
â”‚  â”œâ”€ biometricMethod ("Face ID" / "Touch ID")               â”‚
â”‚  â”œâ”€ biometricTemplate (encrypted signature)                â”‚
â”‚  â”œâ”€ biometricQuality (0-100)                               â”‚
â”‚  â”œâ”€ appLinkedAt                                             â”‚
â”‚  â”œâ”€ appLastAccessAt                                         â”‚
â”‚  â””â”€ accessStatus (PENDING_BIOMETRIC / PENDING_APPROVAL /   â”‚
â”‚                   ACTIVE / REVOKED)                         â”‚
â”‚                                                             â”‚
â”‚  CheckInOutLog:                                             â”‚
â”‚  â”œâ”€ id                                                      â”‚
â”‚  â”œâ”€ studentProfileId / staffId                             â”‚
â”‚  â”œâ”€ type (CHECK_IN / CHECK_OUT)                            â”‚
â”‚  â”œâ”€ method (MANUAL_MANAGER / NFC_TAG / QR_CODE / ...)     â”‚
â”‚  â”œâ”€ timestamp                                               â”‚
â”‚  â”œâ”€ location (lat, lng, accuracy)                          â”‚
â”‚  â”œâ”€ biometricVerified                                       â”‚
â”‚  â””â”€ verificationConfidence (0-100)                         â”‚
â”‚                                                             â”‚
â”‚  StudentOnboardingInvite / StaffOnboardingInvite:          â”‚
â”‚  â”œâ”€ id                                                      â”‚
â”‚  â”œâ”€ studentId / staffId                                    â”‚
â”‚  â”œâ”€ inviteCode (6-digit)                                   â”‚
â”‚  â”œâ”€ qrCode (base64 image)                                  â”‚
â”‚  â”œâ”€ deepLink (pgease://...)                                â”‚
â”‚  â”œâ”€ status (PENDING / USED / EXPIRED)                      â”‚
â”‚  â”œâ”€ createdAt                                               â”‚
â”‚  â”œâ”€ expiresAt                                               â”‚
â”‚  â””â”€ usedAt                                                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” **Security Architecture**

### **Biometric Signature Generation**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BIOMETRIC SIGNATURE GENERATION                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ENROLLMENT (One-time):                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. User authenticates with Face ID/Touch ID          â”‚  â”‚
â”‚  â”‚ 2. App generates:                                     â”‚  â”‚
â”‚  â”‚    â”œâ”€ Device Hash (from deviceId)                    â”‚  â”‚
â”‚  â”‚    â”œâ”€ Student/Staff Hash (from userId)               â”‚  â”‚
â”‚  â”‚    â”œâ”€ Biometric Hash (from biometric type + device)  â”‚  â”‚
â”‚  â”‚    â””â”€ Enrollment Hash (combination of above)         â”‚  â”‚
â”‚  â”‚ 3. Combine into signature:                            â”‚  â”‚
â”‚  â”‚    SIG_<deviceHash>_<userHash>_<enrollHash>_<bioHash>â”‚  â”‚
â”‚  â”‚ 4. Send to server for storage                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  VERIFICATION (Every check-in):                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. User authenticates with Face ID/Touch ID          â”‚  â”‚
â”‚  â”‚ 2. App generates:                                     â”‚  â”‚
â”‚  â”‚    â”œâ”€ Device Hash (same as enrollment)               â”‚  â”‚
â”‚  â”‚    â”œâ”€ User Hash (same as enrollment)                 â”‚  â”‚
â”‚  â”‚    â”œâ”€ Biometric Hash (same as enrollment)            â”‚  â”‚
â”‚  â”‚    â””â”€ Verification Hash (combination of above)       â”‚  â”‚
â”‚  â”‚ 3. Combine into signature:                            â”‚  â”‚
â”‚  â”‚    SIG_<deviceHash>_<userHash>_<verifyHash>_<bioHash>â”‚  â”‚
â”‚  â”‚ 4. Send to server for comparison                     â”‚  â”‚
â”‚  â”‚ 5. Server compares with enrollment signature         â”‚  â”‚
â”‚  â”‚ 6. Server returns confidence score (0-100)           â”‚  â”‚
â”‚  â”‚ 7. If confidence â‰¥ 85%, allow check-in               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Device Binding**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DEVICE BINDING                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Device Registration:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. App generates UUID on first launch                â”‚  â”‚
â”‚  â”‚ 2. Stores in UserDefaults: "deviceId"                â”‚  â”‚
â”‚  â”‚ 3. Sends to server during onboarding                 â”‚  â”‚
â”‚  â”‚ 4. Server stores in StudentProfile/StaffProfile      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  Device Verification:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. Every API call includes deviceId                  â”‚  â”‚
â”‚  â”‚ 2. Server checks if deviceId matches stored value    â”‚  â”‚
â”‚  â”‚ 3. If mismatch, reject request                       â”‚  â”‚
â”‚  â”‚ 4. Prevents device sharing and spoofing              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ­ **Role-Based Navigation**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ROLE-BASED NAVIGATION                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  User Login â†’ AuthManager.checkAuthStatus()                â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚  userRole?   â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€ STUDENT â”€â”€â†’ StudentTabView                      â”‚
â”‚         â”‚              â”œâ”€ Home (Check-In/Out)              â”‚
â”‚         â”‚              â”œâ”€ Attendance                        â”‚
â”‚         â”‚              â”œâ”€ Payments                          â”‚
â”‚         â”‚              â”œâ”€ Complaints                        â”‚
â”‚         â”‚              â””â”€ Profile (Deboard)                 â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€ STAFF â”€â”€â”€â”€â†’ StaffTabView                        â”‚
â”‚         â”‚              â”œâ”€ Home (Check-In/Out)              â”‚
â”‚         â”‚              â”œâ”€ Attendance                        â”‚
â”‚         â”‚              â”œâ”€ Tasks                             â”‚
â”‚         â”‚              â”œâ”€ Salary                            â”‚
â”‚         â”‚              â””â”€ Profile (Resign)                  â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€ MANAGER â”€â”€â†’ ManagerTabView                      â”‚
â”‚         â”‚              â”œâ”€ Dashboard                         â”‚
â”‚         â”‚              â”œâ”€ Approvals                         â”‚
â”‚         â”‚              â”œâ”€ Students                          â”‚
â”‚         â”‚              â”œâ”€ Staff                             â”‚
â”‚         â”‚              â””â”€ Reports                           â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€ WARDEN â”€â”€â”€â†’ WardenTabView                       â”‚
â”‚         â”‚              â”œâ”€ Security Monitor                  â”‚
â”‚         â”‚              â”œâ”€ Who's In PG                       â”‚
â”‚         â”‚              â”œâ”€ Visitors                          â”‚
â”‚         â”‚              â””â”€ Incidents                         â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€ ... (other roles)                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š **State Management**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STATE MANAGEMENT                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  @StateObject (Manager Classes):                            â”‚
â”‚  â”œâ”€ AuthManager                                             â”‚
â”‚  â”‚  â””â”€ Manages: isAuthenticated, userRole, userType        â”‚
â”‚  â”œâ”€ OnboardingManager                                       â”‚
â”‚  â”‚  â””â”€ Manages: currentStep, studentInfo, accessStatus     â”‚
â”‚  â”œâ”€ CheckInOutManager                                       â”‚
â”‚  â”‚  â””â”€ Manages: isCheckedIn, lastCheckInTime               â”‚
â”‚  â””â”€ BiometricAuthManager                                    â”‚
â”‚     â””â”€ Manages: isAuthenticated, biometricType             â”‚
â”‚                                                             â”‚
â”‚  @State (View-Level):                                       â”‚
â”‚  â”œâ”€ Form inputs (text fields, toggles)                     â”‚
â”‚  â”œâ”€ UI state (loading, errors, alerts)                     â”‚
â”‚  â””â”€ Navigation state (sheets, alerts)                      â”‚
â”‚                                                             â”‚
â”‚  @Published (Observable):                                   â”‚
â”‚  â”œâ”€ Triggers view updates when changed                     â”‚
â”‚  â””â”€ Used in all @StateObject classes                       â”‚
â”‚                                                             â”‚
â”‚  UserDefaults (Persistent):                                 â”‚
â”‚  â”œâ”€ User authentication state                              â”‚
â”‚  â”œâ”€ Device ID                                               â”‚
â”‚  â””â”€ App settings                                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **Async/Await Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ASYNC/AWAIT PATTERN                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  View (SwiftUI):                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Button("Check In") {                                 â”‚  â”‚
â”‚  â”‚     Task {                                            â”‚  â”‚
â”‚  â”‚         await checkInOutManager.checkIn()            â”‚  â”‚
â”‚  â”‚     }                                                 â”‚  â”‚
â”‚  â”‚ }                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  Manager:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ func checkIn() async {                               â”‚  â”‚
â”‚  â”‚     await MainActor.run {                            â”‚  â”‚
â”‚  â”‚         isLoading = true                             â”‚  â”‚
â”‚  â”‚     }                                                 â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚     do {                                              â”‚  â”‚
â”‚  â”‚         let response = try await apiManager.checkIn()â”‚  â”‚
â”‚  â”‚         await MainActor.run {                        â”‚  â”‚
â”‚  â”‚             isCheckedIn = true                       â”‚  â”‚
â”‚  â”‚             isLoading = false                        â”‚  â”‚
â”‚  â”‚         }                                             â”‚  â”‚
â”‚  â”‚     } catch {                                         â”‚  â”‚
â”‚  â”‚         await MainActor.run {                        â”‚  â”‚
â”‚  â”‚             errorMessage = error.localizedDescriptionâ”‚  â”‚
â”‚  â”‚             isLoading = false                        â”‚  â”‚
â”‚  â”‚         }                                             â”‚  â”‚
â”‚  â”‚     }                                                 â”‚  â”‚
â”‚  â”‚ }                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  API Manager:                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ func checkIn(...) async throws -> CheckInOutResponse â”‚  â”‚
â”‚  â”‚ {                                                     â”‚  â”‚
â”‚  â”‚     let (data, response) = try await                 â”‚  â”‚
â”‚  â”‚         URLSession.shared.data(for: request)         â”‚  â”‚
â”‚  â”‚     return try decoder.decode(                       â”‚  â”‚
â”‚  â”‚         CheckInOutResponse.self, from: data)         â”‚  â”‚
â”‚  â”‚ }                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Last Updated:** October 13, 2025  
**Version:** 1.0
